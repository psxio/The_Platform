# Unified Web3 & Content Production Platform

## Overview
This project is a unified application combining two distinct systems:
1.  **Web3 Wallet Tools**: Provides features like address comparison, NFT collection management, and EVM address extraction for Web3 users.
2.  **ContentFlowStudio**: A comprehensive content production management system offering task tracking, team directory, and deliverable management for content teams.

The platform uses internal email/password authentication with strict role-based access control. There are three main user roles: `web3` (access to wallet tools), `content` (access to content management), and `admin` (full access to both systems and administrative features like invite code generation). The admin role requires a secure invite code system.

## User Preferences
Preferred communication style: Simple, everyday language.

## System Architecture

### Authentication
The system uses internal email/password authentication with bcryptjs for password hashing and PostgreSQL for session storage. It features role-based access control with `web3`, `content`, and `admin` roles. Admin access requires a single-use invite code generated by existing admins.

### Frontend Architecture
The frontend is built with **React** and **TypeScript** using **Vite**. Routing is handled by **Wouter** with role-based protection. **Shadcn UI** (New York style) with **Radix UI** primitives is used for the UI components. Key pages include `role-select`, `compare`, `extract`, `collections`, `history`, `todo`, `content`, and `admin/codes`.

### Backend Architecture
The backend is a **Node.js** application using **Express**. It provides separate API endpoints for Web3 tools, ContentFlowStudio features (tasks, directory, deliverables, subtasks, comments, activity, analytics, notifications, time tracking, task watchers, approval workflows, task templates), personal to-do lists, and authentication/admin functionalities (invite codes).

### Database Schema
The system utilizes a **PostgreSQL** database managed with **Drizzle ORM**. Key tables include:
-   `users`: Stores user credentials, roles, and profile information.
-   `sessions`: For session management.
-   `collections`, `minted_addresses`, `comparisons`: For Web3 tools.
-   `tasks`: For personal to-do lists.
-   `content_tasks`, `directory_members`, `deliverables`: For ContentFlowStudio core.
-   `admin_invite_codes`: For secure admin access.
-   `task_templates`, `template_subtasks`, `task_watchers`, `approvals`, `time_entries`: For advanced ContentFlowStudio features.

### UI/UX Decisions
-   **Color Schemes**: Leverages Shadcn UI's New York style for a modern and clean aesthetic.
-   **Templates**: Utilizes task templates for ContentFlowStudio to streamline task creation.
-   **Design Approaches**: Implements multiple task views (Grid, Kanban, Calendar), visual indicators for task status (overdue, due soon), and an analytics dashboard for data visualization. Enhanced dialogs for task details integrate watchers, approvals, time tracking, subtasks, comments, and activity seamlessly.

### Feature Specifications
-   **Web3 Wallet Tools**: Address comparison, EVM address extraction from various file types (CSV, TXT, JSON, Excel, PDF), NFT collection management, and comparison history.
-   **ContentFlowStudio**:
    -   Comprehensive task management (CRUD, filtering, bulk actions, subtasks, comments, activity timeline).
    -   Multiple task views (Grid, Kanban, Calendar).
    -   Team directory.
    -   Deliverable file uploads (with Google Drive integration).
    -   Email notifications for assignments and due dates.
    -   In-app notification system.
    -   Task templates with subtask templates.
    -   Task watchers.
    -   Approval workflows.
    -   Time tracking with timer functionality.
    -   Analytics dashboard.
-   **Admin Features**: Invite code generation and management.
-   **Security**: Role-based access control, bcrypt hashing, server-side middleware for route protection.

## External Dependencies

-   **Authentication**: `bcryptjs`, `express-session`, `connect-pg-simple`
-   **UI Components**: `@radix-ui/*`, `lucide-react`, `shadcn-ui`
-   **Data Processing**: `PapaParse`, `xlsx`, `pdf-parse`, `Multer`
-   **Database**: `Drizzle ORM`, `PostgreSQL` (`@neondatabase/serverless`)
-   **Email**: `Nodemailer`
-   **Google Integration**: Google APIs for Sheets (`google-auth-library`, `googleapis`) and Drive